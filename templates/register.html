<!-- Registration page -->

{% extends "master.html" %}

{% block title %}Register{% endblock %}

{% block head %}
    {% if status %}
    <script>
    window.setTimeout(function() {
        location.href = document.getElementById("link").href;
    }, 2000);
    </script>
    {% endif %}

	{{ super() }}
{% endblock %}

{% block content %}
<div class="container">
	<h4 class="center-align" style="padding-top:7vh">Register for Marginalia</h4>
	<div class="row center">
        {% if err %}
        <script>
        var $toastContent = $('<span><strong>Registration Failed!</strong> {{ err }}</span>');
        Materialize.toast($toastContent, 5000);
        </script>
        {% endif %}
        {% if status %}
        <script>
        var $toastContent = $('<span><strong>Registration Successful!</strong> You will be redirected to <a id="link" href="/login">login</a> shortly</span>');
        Materialize.toast($toastContent, 5000);
        </script>
        {% endif %}
		<form class="col s6 offset-s3" method="post" action="/register">
			<div class="row">
				<div class="input-field col s6">
					<i class="material-icons prefix">account_circle</i>
					<input id="first" name="first" type="text" class="validate" placeholder="First Name">
				</div>
				<div class="input-field col s6">
					<input id="last" name="last" type="text" class="validate" placeholder="Last Name">
				</div>
			</div>
			<div class="row">
				<div class="input-field col s12">
					<i class="material-icons prefix">email</i>
					<input id="email" name="email" type="text" class="validate" placeholder="Email">
				</div>
			</div>
			<div class="row">
				<div class="input-field col s12">
					<i class="material-icons prefix">lock</i>
					<input id="password" name="password" type="password" class="validate" placeholder="Password">
				</div>
			</div>
			<div class="row">
				<div class="input-field col s12">
					<i class="material-icons prefix">lock_outline</i>
					<input id="confimrm" name="confirm" type="password" class="validate" placeholder="Confirm Password">
				</div>
			</div>

			<button class="btn waves-effect waves-light" type="submit" name="action">Submit
				<i class="material-icons right">send</i>
			</button>
		</form>
	</div>
</div>
{% endblock %}
